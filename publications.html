<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Publications | Naman Bajaj</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Main stylesheet -->
  <link rel="stylesheet" href="style.css" />

  <!-- Serif font for titles -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Source+Serif+4:wght@400;600&display=swap" rel="stylesheet">
</head>

<body>

<!-- ==========================
     Navbar
========================== -->
<nav class="nav-bar">
  <a href="index.html" class="nav-link">Home</a>
  <a href="publications.html" class="nav-link active">Publications</a>
  <a href="cv.html" class="nav-link">CV</a>
</nav>

<!-- ==========================
     Publications Section
========================== -->
<section class="section">
  <h2>Publications</h2>

  <!-- Filters -->
  <div style="margin-bottom: 30px; display: flex; gap: 20px; flex-wrap: wrap;">
    <select id="year-filter">
      <option value="all">All years</option>
    </select>

    <select id="type-filter">
      <option value="all">All types</option>
      <option value="journal">Journal</option>
      <option value="conference">Conference</option>
      <option value="preprint">Preprint</option>
    </select>
  </div>

  <!-- Publication list -->
  <div id="pub-list"></div>
</section>

<!-- ==========================
     Image Modal
========================== -->
<div class="img-modal" id="img-modal">
  <img id="modal-img" src="" alt="">
</div>

<!-- ==========================
     JavaScript
========================== -->
<script>
/* ==========================
   Publication Data
========================== */
const publications = [
  {
    title: "Tracing Molecular Outflows in Embedded Protostars with JWST/MIRI",
    authors: "Bajaj, N., et al.",
    journal: "The Astrophysical Journal",
    year: 2024,
    type: "journal",
    ads: "https://ui.adsabs.harvard.edu/",
    image: "assets/images/pub1.jpg"
  },
  {
    title: "Mid-Infrared IFU Diagnostics of Protoplanetary Disks",
    authors: "Bajaj, N., Smith, J.",
    journal: "A&A",
    year: 2023,
    type: "journal",
    ads: "https://ui.adsabs.harvard.edu/",
    image: "assets/images/pub2.jpg"
  },
  {
    title: "JWST Early Results on Embedded Star Formation",
    authors: "Bajaj, N.",
    journal: "arXiv e-prints",
    year: 2022,
    type: "preprint",
    ads: "https://arxiv.org/",
    image: "assets/images/pub3.jpg"
  }
];

/* ==========================
   Populate Filters
========================== */
const yearFilter = document.getElementById("year-filter");
const typeFilter = document.getElementById("type-filter");
const container = document.getElementById("pub-list");

const years = [...new Set(publications.map(p => p.year))].sort((a, b) => b - a);
years.forEach(y => {
  const opt = document.createElement("option");
  opt.value = y;
  opt.textContent = y;
  yearFilter.appendChild(opt);
});

/* ==========================
   Render Publications
========================== */
function renderPublications() {
  container.innerHTML = "";

  const selectedYear = yearFilter.value;
  const selectedType = typeFilter.value;

  const filtered = publications.filter(p => {
    const yearMatch = selectedYear === "all" || p.year == selectedYear;
    const typeMatch = selectedType === "all" || p.type === selectedType;
    return yearMatch && typeMatch;
  });

  filtered.forEach((p, i) => {
    const entry = document.createElement("div");
    entry.className = `pub-entry ${i % 2 === 0 ? "alt1" : "alt2"}`;

    entry.innerHTML = `
      <div class="pub-text">
        <h3>${p.title}</h3>
        <p><strong>${p.authors}</strong></p>
        <p>${p.journal} (${p.year})</p>
        <a class="ads-link" href="${p.ads}" target="_blank">ADS / Link</a>
      </div>
      <div class="pub-image">
        <img src="${p.image}" alt="${p.title}">
      </div>
    `;

    container.appendChild(entry);
  });
}

/* ==========================
   Events
========================== */
yearFilter.addEventListener("change", renderPublications);
typeFilter.addEventListener("change", renderPublications);

/* ==========================
   Image Modal
========================== */
const modal = document.getElementById("img-modal");
const modalImg = document.getElementById("modal-img");

document.addEventListener("click", e => {
  if (e.target.matches(".pub-image img")) {
    modalImg.src = e.target.src;
    modal.classList.add("open");
  } else if (e.target === modal) {
    modal.classList.remove("open");
  }
});

/* ==========================
   Initial Render
========================== */
renderPublications();
</script>

</body>
</html>
